import{_ as C,a as V,u as B,o,h as k,w as a,b as s,d as t,f as z,v as w,c as d,j as c,t as r,e as p,k as m,i as f,F as _,g as h,l as v,p as N,m as F}from"./index-f21f5de6.js";import{d as M,u as O}from"./VToolbar-6805c749.js";import{u as S}from"./store-8577c953.js";import{B as I,V as T}from"./BludaOknoRedaktirovania-312e72a0.js";import{a as u,V as Z}from"./VSelect-9b4b1660.js";const D={components:{BludaOknoRedaktirovania:I},setup(){const x=V(),e=M(),l=S(),i=O(),b=B();return{core:x,menu:e,zakaz:l,bluda:i,user:b}},methods:{openBludo(x){this.bluda.readOnly=!1,this.bluda.openBaseModal(x)}},data(){return{isColapse:!1}},props:["item","date","rezemPokupki"]},P={class:"py-2 mb-0 bg-grey-lighten-5 px-3"},R={key:1,class:"h1 text-center px-2 py-4 br-100 bg-white"},U={class:"d-flex flex-wrap"},j={class:"flex-1-1-100 w-100 mb-1"},E={class:""},L={key:0},q={key:1},A={key:0,class:"mt-4"},G={class:"mb-3"},H={key:0},J={class:"border-b py-2"},K={class:"mb-3 flex-1-1-100 flex-sm-1-1 me-sm-2"},Q={class:"mb-3 flex-1-1-100 flex-sm-0-0 me-sm-2"},W={class:"mt-7 mb-2 flex-1-1-100 flex-sm-1-0-100 me-sm-2"},X={class:"text-center"},Y={class:"border-b d-inline-block mx-auto"},$={class:"px-3 mt-auto d-flex py-3 mb-0 bg-grey-lighten-5 px-3"},ee={key:0,class:"me-3 flex-1-1"},le={key:1,class:"flex-1-1 text-end"},te={key:1,class:"d-flex w-100 app-poisk align-center"};function se(x,e,l,i,b,g){return o(),k(F,{elevation:"5",class:"br-20 d-flex flex-column"},{default:a(()=>[s("div",P,[t(p,null,{default:a(()=>[t(z,{cols:"3"},{default:a(()=>[l.item.bludo.photo?(o(),k(w,{key:0,src:l.item.bludo.photo,class:"br-100 elevation-1"},null,8,["src"])):(o(),d("div",R,[t(c,{icon:"mdi-camera",color:"secondary",size:"large"})]))]),_:1}),t(z,{class:"align-content-center"},{default:a(()=>[s("h3",null,[s("b",null,r(l.item.bludo.nazvanie),1)])]),_:1})]),_:1})]),t(N,{class:""},{default:a(()=>{var n;return[s("div",U,[s("div",j,[t(u,{size:"small",variant:"tonal",class:"px-3 me-2 mb-2",color:"primary"},{default:a(()=>[e[8]||(e[8]=s("b",{class:"me-1"},"К",-1)),m(" "+r(l.item.bludo.kaloriinost),1)]),_:1}),t(u,{size:"small",variant:"tonal",class:"px-3 me-2 mb-2",color:"primary"},{default:a(()=>[e[9]||(e[9]=s("b",{class:"me-1"},"Б",-1)),m(" "+r(l.item.bludo.belki),1)]),_:1}),t(u,{size:"small",variant:"tonal",class:"px-3 me-2 mb-2",color:"primary"},{default:a(()=>[e[10]||(e[10]=s("b",{class:"me-1"},"Ж",-1)),m(" "+r(l.item.bludo.ziri),1)]),_:1}),t(u,{size:"small",variant:"tonal",class:"px-3 mb-2",color:"primary"},{default:a(()=>[s("span",E,[e[11]||(e[11]=s("b",{class:"me-1"},"У",-1)),m(" "+r(l.item.bludo.uglevodi),1)])]),_:1})])]),s("div",null,[t(f,{size:"small",elevation:"3",color:"primary",variant:"flat",class:"br-20 w-100",onClick:e[0]||(e[0]=y=>b.isColapse=!b.isColapse)},{default:a(()=>[b.isColapse?(o(),d("span",L,"Скрыть")):(o(),d("span",q,"Показать")),e[12]||(e[12]=m(" состав "))]),_:1})]),b.isColapse?(o(),d("div",A,[s("div",G,[((n=l.item.bludo.sostav)==null?void 0:n.length)>0?(o(),d("div",H,[e[13]||(e[13]=s("h2",{class:"border-b pb-2"},"Состав:",-1)),(o(!0),d(_,null,h(l.item.bludo.sostav,y=>(o(),d("div",J,[t(T,{dot:"",inline:"",color:"primary"}),s("b",null,r(y.ingredientTitle)+" "+r(y.kolichestvo),1)]))),256))])):v("",!0)]),s("div",K,[l.item.bludo.kategoriaBludaNazvanie?(o(),k(u,{key:0,size:"small",variant:"outlined",class:"px-5 font-weight-bold w-100",color:"primary"},{default:a(()=>[m(r(l.item.bludo.kategoriaBludaNazvanie),1)]),_:1})):v("",!0)]),s("div",Q,[l.item.bludo.isPostnoeBludo?(o(),k(u,{key:0,size:"small",variant:"outlined",class:"px-5 font-weight-bold w-100",color:"primary"},{default:a(()=>e[14]||(e[14]=[m("Постное ")])),_:1})):(o(),k(u,{key:1,size:"small",variant:"outlined",color:"secondary",class:"px-5 w-100 font-weight-bold"},{default:a(()=>e[15]||(e[15]=[m("Не постное ")])),_:1}))])])):v("",!0),s("div",W,[s("div",X,[s("h2",Y,r(l.item.bludo.stoimost)+" руб.",1)])])]}),_:1}),s("div",$,[l.rezemPokupki?(o(),d("div",te,[t(f,{color:"secondary",size:"small",class:"br-20 me-4",onClick:e[4]||(e[4]=n=>i.zakaz.decOptZakaz(l.item.bludo,l.date))},{default:a(()=>[t(c,{icon:"mdi-minus"})]),_:1}),t(Z,{modelValue:i.zakaz.optInput[`${l.date}--${l.item.bludo.id}`],"onUpdate:modelValue":e[5]||(e[5]=n=>i.zakaz.optInput[`${l.date}--${l.item.bludo.id}`]=n),type:"number",id:`opt-input-${l.date}--${l.item.bludo.id}`,onChange:e[6]||(e[6]=n=>i.zakaz.changOptZakaz(l.item.bludo,l.date,n)),step:"1",class:"w-100 br-20",variant:"solo"},null,8,["modelValue","id"]),t(f,{color:"secondary",size:"small",class:"br-20 ms-4",onClick:e[7]||(e[7]=n=>i.zakaz.incOptZakaz(l.item.bludo,l.date))},{default:a(()=>[t(c,{icon:"mdi-plus"})]),_:1})])):(o(),d(_,{key:0},[i.user.userData.isFranchisee?v("",!0):(o(),d("div",ee,[t(f,{onClick:e[1]||(e[1]=n=>i.menu.delete(l.item.id)),size:"small",variant:"tonal",color:"red",class:"br-15"},{default:a(()=>[t(c,{icon:"mdi-delete"}),e[16]||(e[16]=m(" Удалить "))]),_:1})])),i.user.userData.isFranchisee?v("",!0):(o(),d("div",le,[t(f,{onClick:e[2]||(e[2]=n=>g.openBludo(l.item.bludo.id)),size:"small",variant:"outlined",color:"primary",class:"br-15 me-3"},{default:a(()=>[t(c,{icon:"mdi-pen"}),e[17]||(e[17]=m(" Блюдо "))]),_:1}),t(f,{onClick:e[3]||(e[3]=n=>i.menu.openBaseModal(l.date,l.item.id)),size:"small",variant:"tonal",color:"primary",class:"br-15"},{default:a(()=>[t(c,{icon:"mdi-pen"}),e[18]||(e[18]=m(" Изменить "))]),_:1})]))],64))])]),_:1})}const me=C(D,[["render",se]]);export{me as M};
