import{_ as M,r as y,o as a,c as s,b as i,d as n,w as t,f as p,y as L,i as k,j as f,e as D,h as d,F as m,g as x,l as u,k as c,t as h,z as O,a as N,p as K,m as j,s as I,u as Z,V as H}from"./index-f21f5de6.js";import{b as E,d as B,u as R,a as q,V as U,c as G}from"./VToolbar-6805c749.js";import{A as ee}from"./AppTableLv-320bb546.js";import{A as $}from"./AppPagination-f23c5fbb.js";import{A as J}from"./AppPoisk-c02f2269.js";import{M as oe}from"./MenuCard-9848633f.js";import{M as ae}from"./MenuCardPp-37783d84.js";import{V as F,a as P,b as ne}from"./VSelect-9b4b1660.js";import{V as Q}from"./VTooltip-f5baeae5.js";import{V as W,a as C}from"./VTable-a40f1d80.js";import{B as te}from"./BludaOknoRedaktirovania-312e72a0.js";import{N as le}from"./NaborOknoRedaktirovania-e109a0aa.js";import"./store-8577c953.js";import"./store-97c65fef.js";import"./store-00c104a5.js";const se={components:{AppPagination:$},setup(){const _=E(),e=B();return{nabor:_,menu:e}},methods:{}},re={class:"app-poisk d-flex mb-5 bg-green-lighten-5 py-5 px-3"},de={class:""},ie=["onClick"],ce={class:"overflow-x-auto"},ue=["onClick"],me={key:0},_e={class:"me-3"},be={key:1,class:"w-100"},pe={key:2,class:"w-100"},ve={key:3,class:"text-decoration-none text-black mx-auto px-0 py-2 d-flex"},fe=["src"],ye={key:1,class:"w-100 py-3"},ke={key:4,class:"w-100"},ge={key:0},he={key:1,class:"w-100 py-3"},xe={class:"px-3 mb-3"};function we(_,e,g,o,V,w){const b=y("app-pagination");return a(),s("div",null,[i("div",re,[n(D,null,{default:t(()=>[n(p,{cols:"12",sm:"10",class:""},{default:t(()=>[n(F,{onKeydown:e[0]||(e[0]=L(l=>o.nabor.getLvData(),["enter"])),clearable:!0,class:"pt-0 br-20 bez-label bg-white",label:"Название",modelValue:o.nabor.searchAndSort.nazvanie,"onUpdate:modelValue":e[1]||(e[1]=l=>o.nabor.searchAndSort.nazvanie=l),variant:"outlined"},null,8,["modelValue"])]),_:1}),n(p,{cols:"12",sm:"2",class:""},{default:t(()=>[n(k,{onClick:e[2]||(e[2]=l=>o.nabor.getLvData()),color:"primary",elevation:"3",class:"d-block w-100 align-self-end br-15"},{default:t(()=>[n(f,{icon:"mdi-magnify"})]),_:1})]),_:1})]),_:1})]),i("div",de,[o.nabor.lvData.length?(a(),d(W,{key:0,hover:"",class:"text-body-2 cursor-pointer w-100 text-center overflow-x-auto"},{default:t(()=>[i("thead",null,[i("tr",null,[(a(!0),s(m,null,x(o.nabor.tableHeader,l=>(a(),s("th",{class:"text-center bg-green-lighten-5 align-center justify-center",onClick:r=>o.nabor.updateSort(l.orederName),key:l.name},[o.nabor.searchAndSort.sortName===l.orederName?(a(),s(m,{key:0},[o.nabor.searchAndSort.sortOrder==="up"?(a(),d(f,{key:0,icon:"mdi-sort-ascending"})):u("",!0),o.nabor.searchAndSort.sortOrder==="down"?(a(),d(f,{key:1,icon:"mdi-sort-descending"})):u("",!0)],64)):u("",!0),c(" "+h(l.label),1)],8,ie))),128))])]),i("tbody",ce,[(a(!0),s(m,null,x(o.nabor.lvData,l=>(a(),s("tr",{key:l.id},[(a(!0),s(m,null,x(o.nabor.tableHeader,(r,A)=>(a(),s("td",{class:"text-center",onClick:T=>o.menu.save(l.id),key:r.name},[i("div",{style:O(`width:${r.width}`),class:"text-decoration-none d-flex align-center py-2 h-100 mx-auto"},[A===0&&l.isArchive?(a(),s("div",me,[i("div",_e,[n(f,{icon:"mdi-archive",color:"red",size:"small"}),n(Q,{activator:"parent",location:"top"},{default:t(()=>e[4]||(e[4]=[c("В архиве ")])),_:1})])])):u("",!0),r.type==="num"?(a(),s("div",be,[l[r.name]||l[r.name]===0?(a(),s(m,{key:0},[c(h(l[r.name].toLocaleString("ru-RU",{maximumFractionDigits:2})),1)],64)):(a(),s(m,{key:1},[c(" - ")],64))])):r.type==="bool"?(a(),s("div",pe,[l[r.name]?(a(),d(P,{key:0,size:"small",color:"primary",class:"px-5"},{default:t(()=>e[5]||(e[5]=[c("Да")])),_:1})):(a(),d(P,{key:1,color:"secondary",size:"small",class:"px-5"},{default:t(()=>e[6]||(e[6]=[c("Нет")])),_:1}))])):r.type==="img"?(a(),s("div",ve,[l[r.name]?(a(),s("img",{key:0,class:"br-20 w-100",src:l[r.name]},null,8,fe)):(a(),s("div",ye,"Нет"))])):(a(),s("div",ke,[l[r.name]?(a(),s("div",ge,h(l[r.name]),1)):(a(),s("div",he,"Нет"))]))],4)],8,ue))),128))]))),128))])]),_:1})):(a(),d(C,{key:1,icon:"$info",class:"br-20",color:"secondary",variant:"tonal",elevation:4},{default:t(()=>[e[8]||(e[8]=i("b",null,"Ничего не найдено",-1)),n(k,{size:"small",variant:"tonal",color:"primary",class:"br-20 ms-3",onClick:e[3]||(e[3]=l=>o.nabor.reseatSearch())},{default:t(()=>e[7]||(e[7]=[c("Сбросить фильтры ")])),_:1})]),_:1})),i("div",xe,[n(b,{store:o.nabor},null,8,["store"])])])])}const Se=M(se,[["render",we]]),Ve={components:{AppPagination:$},setup(){const _=N(),e=R(),g=B(),o=q();return{core:_,bluda:e,kategoriaBluda:o,menu:g}},methods:{}},Ce={class:"app-poisk d-flex mb-5 bg-green-lighten-5 py-5 px-3"},Ae={class:""},ze=["onClick"],De={class:"overflow-x-auto"},Pe=["onClick"],Me={key:0},Be={class:"me-3"},Le={key:1,class:"w-100"},Ne={key:2,class:"w-100"},$e={key:3,class:"text-decoration-none text-black mx-auto px-0 py-2 d-flex"},Te=["src"],Ue={key:1,class:"w-100 py-3"},Re={key:4,class:"w-100"},Fe={key:0},Oe={key:1,class:"w-100 py-3"},Ke={class:"px-3 mb-3"};function je(_,e,g,o,V,w){const b=y("app-pagination");return a(),s("div",null,[i("div",Ce,[n(D,null,{default:t(()=>[n(p,{cols:"12",sm:"5",md:"5",class:""},{default:t(()=>[n(F,{onKeydown:e[0]||(e[0]=L(l=>o.bluda.getLvData(),["enter"])),clearable:!0,class:"pt-0 br-20 bez-label bg-white",label:"Название",modelValue:o.bluda.searchAndSort.term,"onUpdate:modelValue":e[1]||(e[1]=l=>o.bluda.searchAndSort.term=l),variant:"outlined"},null,8,["modelValue"])]),_:1}),n(p,{cols:"12",sm:"5",md:"5",class:""},{default:t(()=>[n(ne,{onKeydown:e[2]||(e[2]=L(l=>o.bluda.getLvData(),["enter"])),clearable:!0,"item-title":"nazvanie","item-value":"id",modelValue:o.bluda.searchAndSort.kategoria,"onUpdate:modelValue":e[3]||(e[3]=l=>o.bluda.searchAndSort.kategoria=l),items:o.kategoriaBluda.lvData,class:"pt-0 br-20 bez-label bg-white",label:"Категория",variant:"outlined"},null,8,["modelValue","items"])]),_:1}),n(p,{cols:"12",sm:"2",class:""},{default:t(()=>[n(k,{onClick:e[4]||(e[4]=l=>o.bluda.getLvData()),color:"primary",elevation:"3",class:"d-block w-100 align-self-end br-15"},{default:t(()=>[n(f,{icon:"mdi-magnify"})]),_:1})]),_:1})]),_:1})]),i("div",Ae,[o.bluda.lvData.length?(a(),d(W,{key:0,hover:"",class:"text-body-2 cursor-pointer w-100 text-center overflow-x-auto"},{default:t(()=>[i("thead",null,[i("tr",null,[(a(!0),s(m,null,x(o.bluda.tableHeader,l=>(a(),s("th",{class:"text-center bg-green-lighten-5 align-center justify-center",onClick:r=>o.bluda.updateSort(l.orederName),key:l.name},[o.bluda.searchAndSort.sortName===l.orederName?(a(),s(m,{key:0},[o.bluda.searchAndSort.sortOrder==="up"?(a(),d(f,{key:0,icon:"mdi-sort-ascending"})):u("",!0),o.bluda.searchAndSort.sortOrder==="down"?(a(),d(f,{key:1,icon:"mdi-sort-descending"})):u("",!0)],64)):u("",!0),c(" "+h(l.label),1)],8,ze))),128))])]),i("tbody",De,[(a(!0),s(m,null,x(o.bluda.lvData,l=>(a(),s("tr",{key:l.id},[(a(!0),s(m,null,x(o.bluda.tableHeader,(r,A)=>(a(),s("td",{class:"text-center",onClick:T=>o.menu.save(l.id),key:r.name},[i("div",{style:O(`width:${r.width}`),class:"text-decoration-none d-flex align-center py-2 h-100 mx-auto"},[A===0&&l.isArchive?(a(),s("div",Me,[i("div",Be,[n(f,{icon:"mdi-archive",color:"red",size:"small"}),n(Q,{activator:"parent",location:"top"},{default:t(()=>e[6]||(e[6]=[c("В архиве ")])),_:1})])])):u("",!0),r.type==="num"?(a(),s("div",Le,[l[r.name]||l[r.name]===0?(a(),s(m,{key:0},[c(h(l[r.name].toLocaleString("ru-RU",{maximumFractionDigits:2})),1)],64)):(a(),s(m,{key:1},[c(" - ")],64))])):r.type==="bool"?(a(),s("div",Ne,[l[r.name]?(a(),d(P,{key:0,size:"small",color:"primary",class:"px-5"},{default:t(()=>e[7]||(e[7]=[c("Да")])),_:1})):(a(),d(P,{key:1,color:"secondary",size:"small",class:"px-5"},{default:t(()=>e[8]||(e[8]=[c("Нет")])),_:1}))])):r.type==="img"?(a(),s("div",$e,[l[r.name]?(a(),s("img",{key:0,class:"br-20 w-100",src:l[r.name]},null,8,Te)):(a(),s("div",Ue,"Нет"))])):(a(),s("div",Re,[l[r.name]?(a(),s("div",Fe,h(l[r.name]),1)):(a(),s("div",Oe,"Нет"))]))],4)],8,Pe))),128))]))),128))])]),_:1})):(a(),d(C,{key:1,icon:"$info",class:"br-20",color:"secondary",variant:"tonal",elevation:4},{default:t(()=>[e[10]||(e[10]=i("b",null,"Ничего не найдено",-1)),n(k,{size:"small",variant:"tonal",color:"primary",class:"br-20 ms-3",onClick:e[5]||(e[5]=l=>o.bluda.reseatSearch())},{default:t(()=>e[9]||(e[9]=[c("Сбросить фильтры ")])),_:1})]),_:1}))]),i("div",Ke,[n(b,{store:o.bluda},null,8,["store"])])])}const Ie=M(Ve,[["render",je]]),Ee={setup(){const _=N(),e=R(),g=B(),o=E();return{core:_,bluda:e,menu:g,nabor:o}},components:{AppPagination:$,MenuBludaTable:Ie,AppPoisk:J,MenuNaborTable:Se}};function qe(_,e,g,o,V,w){const b=y("menu-bluda-table"),l=y("menu-nabor-table");return a(),d(I,{modelValue:o.menu.showBaseModal,"onUpdate:modelValue":e[1]||(e[1]=r=>o.menu.showBaseModal=r),scrollable:"",width:"1000"},{default:t(()=>[n(j,{color:""},{default:t(()=>[n(U,{color:"primary"},{default:t(()=>[n(G,null,{default:t(()=>[c(h(o.menu.baseModalTitle),1)]),_:1}),n(k,{icon:"mdi-close",onClick:e[0]||(e[0]=r=>o.menu.showBaseModal=!1)})]),_:1}),n(K,{class:"px-0 py-0"},{default:t(()=>[o.menu.searchAndSort.isPp?u("",!0):(a(),d(b,{key:0})),o.menu.searchAndSort.isPp?(a(),d(l,{key:1})):u("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])}const Ge=M(Ee,[["render",qe]]),Je={setup(){const _=N(),e=B();return{core:_,menu:e}},components:{}};function Qe(_,e,g,o,V,w){return a(),d(I,{modelValue:o.menu.showChangePriceModal,"onUpdate:modelValue":e[4]||(e[4]=b=>o.menu.showChangePriceModal=b),scrollable:"",width:"500"},{default:t(()=>[n(j,{color:""},{default:t(()=>[n(U,{color:"primary"},{default:t(()=>[n(G,null,{default:t(()=>e[5]||(e[5]=[c("Сменить цену")])),_:1}),n(k,{icon:"mdi-close",onClick:e[0]||(e[0]=b=>o.menu.showChangePriceModal=!1)})]),_:1}),n(K,{class:"py-5"},{default:t(()=>[n(F,{onKeydown:e[1]||(e[1]=L(b=>o.menu.savePrice(),["enter"])),clearable:!0,class:"pt-0 br-20 bg-white",placeholder:"Введите цену",modelValue:o.menu.updatePriceData.stoimost,"onUpdate:modelValue":e[2]||(e[2]=b=>o.menu.updatePriceData.stoimost=b),variant:"underlined"},null,8,["modelValue"])]),_:1}),n(U,{color:"",class:"pb-0 mb-0"},{default:t(()=>[n(k,{elevation:"3",color:"primary",variant:"flat",onClick:e[3]||(e[3]=b=>o.menu.savePrice()),class:"ms-auto br-20"},{default:t(()=>e[6]||(e[6]=[c(" Сохранить ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}const We=M(Je,[["render",Qe]]);const Xe={components:{NaborOknoRedaktirovania:le,MenuOknoRedaktirovania:Ge,BludaOknoRedaktirovania:te,AppPoisk:J,AppPagination:$,AppTableLv:ee,MenuCard:oe,MenuChangePriceModal:We,MenuCardPp:ae},setup(){const _=N(),e=B(),g=R(),o=q(),V=Z();return{core:_,menu:e,kategoriaBluda:o,bluda:g,user:V}},async created(){this.menu.searchAndSort.isPp=!1,this.menu.searchAndSort.vid=null,this.menu.reseatSearch(),this.kategoriaBluda.getLvData(),this.bluda.readOnly=!1},methods:{changeRezim(){this.menu.searchAndSort.isPp=!this.menu.searchAndSort.isPp,this.menu.getLvData()}},computed:{dateSLabel(){return this.menu.searchAndSort.dateS?new Date(this.menu.searchAndSort.dateS).toLocaleDateString("ru-RU"):"-"},datePoLabel(){return this.menu.searchAndSort.datePo?new Date(this.menu.searchAndSort.datePo).toLocaleDateString("ru-RU"):"-"}}},Ye={class:"flex-1-1 position-relative bg-grey-lighten-4 pb-5"},Ze={class:"d-flex flex-1-1 align-items-center h-100"},He={class:"d-flex mb-5 align-center"},eo={class:"mb-0 me-auto d-flex"},oo={key:0,class:""},ao={key:1},no={class:"align-center"},to={class:"br-100 bg-primary d-inline-flex px-3 py-3"},lo={class:"br-100 bg-primary d-inline-flex px-3 py-3"};function so(_,e,g,o,V,w){const b=y("app-poisk"),l=y("menu-card"),r=y("menu-card-pp"),A=y("menu-okno-redaktirovania"),T=y("menu-change-price-modal"),X=y("bluda-okno-redaktirovania"),Y=y("nabor-okno-redaktirovania");return a(),s("div",Ye,[i("div",Ze,[n(H,{class:"mb-10"},{default:t(()=>[i("div",He,[i("div",eo,[o.menu.searchAndSort.isPp?u("",!0):(a(),s("h1",oo,"Меню ОПТ")),o.menu.searchAndSort.isPp?(a(),s("h1",ao,"Меню ПП")):u("",!0),n(k,{onClick:w.changeRezim,size:"small",class:"ms-3 align-self-center br-100",color:"primary",variant:"flat",elevation:"1"},{default:t(()=>[n(f,{size:"large",icon:"mdi-swap-horizontal"})]),_:1},8,["onClick"])]),n(b,{size:"small",store:o.menu,class:"me-4"},null,8,["store"]),i("div",no,[n(k,{elevation:"3",size:"small",color:"primary",class:"br-15",variant:"flat",onClick:e[0]||(e[0]=v=>o.menu.printMenu()),download:""},{default:t(()=>[n(f,{icon:"mdi-printer"})]),_:1})])]),n(P,{class:"mb-5 font-weight-bold me-auto",elevation:"3",variant:"tonal",color:"primary"},{default:t(()=>[c("C "+h(w.dateSLabel)+" по "+h(w.datePoLabel),1)]),_:1}),(a(!0),s(m,null,x(o.menu.lvData,v=>(a(),d(D,null,{default:t(()=>[n(p,{cols:"12"},{default:t(()=>[i("h1",null,h(v.dateLabel),1)]),_:2},1024),n(p,{cols:"12"},{default:t(()=>[o.menu.searchAndSort.isPp?(a(),d(D,{key:1},{default:t(()=>{var z;return[((z=v.nabori)==null?void 0:z.length)>0?(a(),s(m,{key:0},[o.menu.searchAndSort.isPp?(a(!0),s(m,{key:0},x(v.nabori,S=>(a(),d(p,{cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[n(r,{date:v.date,item:S},null,8,["date","item"])]),_:2},1024))),256)):u("",!0),o.user.userData.isFranchisee?u("",!0):(a(),d(p,{key:1},{default:t(()=>[n(C,{class:"add-panel h-100 cursor-pointer br-15 flex align-content-center justify-center",onClick:S=>o.menu.openBaseModal(v.date)},{default:t(()=>[i("div",lo,[n(f,{size:"x-large",icon:"mdi-plus"})])]),_:2},1032,["onClick"])]),_:2},1024))],64)):(a(),d(p,{key:1,cols:"12"},{default:t(()=>[n(C,{icon:"$info",class:"br-20",color:"secondary",variant:"tonal",elevation:4},{default:t(()=>[e[4]||(e[4]=i("b",null,"На этот день нет блюд",-1)),o.user.userData.isFranchisee?u("",!0):(a(),d(k,{key:0,size:"small",variant:"tonal",color:"primary",class:"br-20 ms-3",onClick:S=>o.menu.openBaseModal(v.date)},{default:t(()=>e[3]||(e[3]=[c("Указать ")])),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024))]}),_:2},1024)):(a(),d(D,{key:0},{default:t(()=>{var z;return[((z=v.bluda)==null?void 0:z.length)>0?(a(),s(m,{key:0},[o.menu.searchAndSort.isPp?u("",!0):(a(!0),s(m,{key:0},x(v.bluda,S=>(a(),d(p,{cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[n(l,{date:v.date,item:S},null,8,["date","item"])]),_:2},1024))),256)),o.user.userData.isFranchisee?u("",!0):(a(),d(p,{key:1},{default:t(()=>[n(C,{class:"add-panel h-100 cursor-pointer br-15 flex align-content-center justify-center",onClick:S=>o.menu.openBaseModal(v.date)},{default:t(()=>[i("div",to,[n(f,{size:"x-large",icon:"mdi-plus"})])]),_:2},1032,["onClick"])]),_:2},1024))],64)):(a(),d(p,{key:1,cols:"12"},{default:t(()=>[n(C,{icon:"$info",class:"br-20",color:"secondary",variant:"tonal",elevation:4},{default:t(()=>[e[2]||(e[2]=i("b",null,"На этот день нет блюд",-1)),o.user.userData.isFranchisee?u("",!0):(a(),d(k,{key:0,size:"small",variant:"tonal",color:"primary",class:"br-20 ms-3",onClick:S=>o.menu.openBaseModal(v.date)},{default:t(()=>e[1]||(e[1]=[c("Указать ")])),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024))]}),_:2},1024))]),_:2},1024)]),_:2},1024))),256))]),_:1})]),n(A),n(T),n(X),n(Y)])}const wo=M(Xe,[["render",so],["__scopeId","data-v-461889c7"]]);export{wo as default};
