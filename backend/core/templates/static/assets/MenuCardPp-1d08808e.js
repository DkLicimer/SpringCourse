import{_ as h,a as V,u as w,o as l,h as v,w as o,b as s,c as i,d as a,j as m,f as z,t as u,e as p,k as r,i as b,F as C,g as B,l as _,p as M,m as N,v as P}from"./index-2f65f0ea.js";import{d as F,b as I,u as D}from"./VToolbar-3ac14e9a.js";import{u as S}from"./store-ae208c72.js";import{N as Z}from"./NaborOknoRedaktirovania-d668e43b.js";import{a as k,V as L}from"./VSelect-e26a844f.js";const T={components:{NaborOknoRedaktirovania:Z},setup(){const x=V(),e=F(),t=S(),n=I(),f=D(),y=w();return{core:x,menu:e,zakaz:t,nabor:n,bluda:f,user:y}},methods:{openNabor(x){this.nabor.readOnly=!1,this.bluda.reseatSearch(),this.nabor.reseatSearch(),this.nabor.openBaseModal(x)}},data(){return{isColapse:!1}},props:["item","date","rezemPokupki","dateLabel"]},j={class:"",style:{height:"250px"}},O=["src"],R={key:1,class:"h1 text-center px-2 py-4 br-100 h-100 bg-white d-flex align-center justify-center",style:{"min-height":"250px"}},U={class:"py-2 mb-0 bg-grey-lighten-5 px-3"},E={class:"text-body-"},q={class:"d-flex mb-1 flex-wrap"},A={class:"flex-1-1-100 w-100 mb-1"},G={class:""},H={key:0},J={key:1},K={key:0,class:"mt-3"},Q={key:0},W={class:"border-b py-2"},X=["onClick"],Y={class:"me-auto align-self-center"},$={class:"mb-2 flex-1-1-100 flex-sm-1-1-100 me-sm-2 mt-3"},ee={class:"mt-7 mb-2 flex-1-1-100 flex-sm-1-0-100 me-sm-2"},te={class:"text-center"},ae={class:"border-b d-inline-block text-h4 font-weight-bold mx-auto"},se={class:"px-3 mt-auto d-flex py-3 mb-0 bg-grey-lighten-5 px-3"},oe={key:0,class:"me-3 flex-1-1"},le={key:1,class:"flex-1-1 text-end"},ne={key:1,class:"d-flex w-100 app-poisk align-center"};function ie(x,e,t,n,f,y){return l(),v(N,{elevation:"5",class:"br-20 d-flex flex-column"},{default:o(()=>[s("div",j,[t.item.nabor.photo?(l(),i("img",{key:0,src:t.item.nabor.photo,class:"br-top-20 nabor-img"},null,8,O)):(l(),i("div",R,[a(m,{icon:"mdi-camera",class:"h-100",style:{"font-size":"5rem"},color:"secondary",size:"large"})]))]),s("div",U,[a(p,null,{default:o(()=>[a(z,{class:"align-content-center text-center mb-2 pt-5"},{default:o(()=>[s("h3",null,u(t.dateLabel),1),s("h2",E,[s("b",null,u(t.item.nabor.nazvanie),1)])]),_:1})]),_:1})]),a(M,{class:""},{default:o(()=>{var d;return[s("div",q,[s("div",A,[a(k,{size:"default",variant:"tonal",class:"px-3 me-2 mb-2",color:"primary"},{default:o(()=>[e[8]||(e[8]=s("b",{class:"me-1"},"К",-1)),r(" "+u(t.item.nabor.kaloriinost),1)]),_:1}),a(k,{size:"default",variant:"tonal",class:"px-3 me-2 mb-2",color:"primary"},{default:o(()=>[e[9]||(e[9]=s("b",{class:"me-1"},"Б",-1)),r(" "+u(t.item.nabor.belki),1)]),_:1}),a(k,{size:"default",variant:"tonal",class:"px-3 me-2 mb-2",color:"primary"},{default:o(()=>[e[10]||(e[10]=s("b",{class:"me-1"},"Ж",-1)),r(" "+u(t.item.nabor.ziri),1)]),_:1}),a(k,{size:"default",variant:"tonal",class:"px-3 mb-2",color:"primary"},{default:o(()=>[s("span",G,[e[11]||(e[11]=s("b",{class:"me-1"},"У",-1)),r(" "+u(t.item.nabor.uglevodi),1)])]),_:1})])]),s("div",null,[a(b,{size:"default",elevation:"3",color:"primary",variant:"flat",class:"br-20 w-100",onClick:e[0]||(e[0]=c=>f.isColapse=!f.isColapse)},{default:o(()=>[f.isColapse?(l(),i("span",H,"Скрыть")):(l(),i("span",J,"Показать")),e[12]||(e[12]=r(" состав "))]),_:1})]),f.isColapse?(l(),i("div",K,[((d=t.item.nabor.sostav)==null?void 0:d.length)>0?(l(),i("div",Q,[e[13]||(e[13]=s("h2",{class:"border-b pb-2 mt-5"},"Состав:",-1)),(l(!0),i(C,null,B(t.item.nabor.sostav,c=>(l(),i("div",W,[a(p,null,{default:o(()=>[a(z,{cols:"2"},{default:o(()=>[c.bludo.photo?(l(),v(P,{key:0,onClick:g=>n.bluda.openBaseModal(c.bludo.id),class:"br-15 cursor-pointer",src:c.bludo.photo},null,8,["onClick","src"])):(l(),i("div",{key:1,onClick:g=>n.bluda.openBaseModal(c.bludo.id),class:"h1 cursor-pointer text-center px-2 py-3 br-15 bg-white"},[a(m,{icon:"mdi-camera",color:"secondary",size:"large"})],8,X))]),_:2},1024),a(z,{class:"align-self-center d-flex"},{default:o(()=>[s("div",Y,[s("b",null,u(c.bludo.nazvanie),1)]),a(b,{onClick:g=>n.bluda.openBaseModal(c.bludo.id),variant:"text",color:"primary"},{default:o(()=>[a(m,{icon:"mdi-open-in-new"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),256))])):_("",!0)])):_("",!0),s("div",$,[t.item.nabor.isPostnoeBludo?(l(),v(k,{key:0,size:"default",variant:"outlined",class:"px-5 font-weight-bold w-100",color:"primary"},{default:o(()=>e[14]||(e[14]=[r("Постное ")])),_:1})):(l(),v(k,{key:1,size:"default",variant:"outlined",color:"secondary",class:"px-5 w-100 font-weight-bold"},{default:o(()=>e[15]||(e[15]=[r("Не постное ")])),_:1}))]),s("div",ee,[s("div",te,[s("h2",ae,u(t.item.nabor.stoimost)+" руб.",1)])])]}),_:1}),s("div",se,[t.rezemPokupki?(l(),i("div",ne,[a(b,{color:"secondary",size:"default",class:"br-20 me-4",onClick:e[4]||(e[4]=d=>n.zakaz.decPpZakaz(t.item.nabor,t.date))},{default:o(()=>[a(m,{icon:"mdi-minus"})]),_:1}),a(L,{modelValue:n.zakaz.ppInput[`${t.date}--${t.item.nabor.id}`],"onUpdate:modelValue":e[5]||(e[5]=d=>n.zakaz.ppInput[`${t.date}--${t.item.nabor.id}`]=d),type:"number",id:`pp-input-${t.date}--${t.item.nabor.id}`,onChange:e[6]||(e[6]=d=>n.zakaz.changPpZakaz(t.item.nabor,t.date,d)),step:"1",class:"w-100 br-20 text-center input-pp",variant:"solo"},null,8,["modelValue","id"]),a(b,{color:"secondary",size:"default",class:"br-20 ms-4",onClick:e[7]||(e[7]=d=>n.zakaz.incPpZakaz(t.item.nabor,t.date))},{default:o(()=>[a(m,{icon:"mdi-plus"})]),_:1})])):(l(),i(C,{key:0},[n.user.userData.isFranchisee?_("",!0):(l(),i("div",oe,[a(b,{onClick:e[1]||(e[1]=d=>n.menu.delete(t.item.id)),size:"small",variant:"tonal",color:"red",class:"br-15",elevation:"3"},{default:o(()=>[a(m,{icon:"mdi-delete"}),e[16]||(e[16]=r(" Удалить "))]),_:1})])),n.user.userData.isFranchisee?_("",!0):(l(),i("div",le,[a(b,{onClick:e[2]||(e[2]=d=>y.openNabor(t.item.nabor.id)),size:"small",variant:"outlined",color:"primary",class:"br-15 me-3",elevation:"3"},{default:o(()=>[a(m,{icon:"mdi-pen"}),e[17]||(e[17]=r(" Набор "))]),_:1}),n.user.userData.isFranchisee?_("",!0):(l(),v(b,{key:0,onClick:e[3]||(e[3]=d=>n.menu.openBaseModal(t.date,t.item.id)),size:"small",variant:"tonal",color:"primary",class:"br-15",elevation:"3"},{default:o(()=>[a(m,{icon:"mdi-pen"}),e[18]||(e[18]=r(" Изменить "))]),_:1}))]))],64))])]),_:1})}const be=h(T,[["render",ie],["__scopeId","data-v-dfba6d59"]]);export{be as M};
