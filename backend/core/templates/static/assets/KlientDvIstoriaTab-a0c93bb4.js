import{_ as y,o as i,h as v,w as o,d as e,b as t,f as V,e as D,a as h,m as g,k as c,t as s,i as _,p as S,l as B,s as M,r as L,c as m,j as U,F as K,g as $,n as x,x as O}from"./index-51defc55.js";import{u as C}from"./store-f43c43ae.js";import{V as N,c as A}from"./VToolbar-752396e1.js";import{V as T}from"./VTextarea-7b6be885.js";import{V as z,a as j}from"./VTable-0c38b32b.js";const F={};function H(r,l,w,n,d,b){return i(),v(D,null,{default:o(()=>[e(V,{cols:"12",md:"8"},{default:o(()=>l[0]||(l[0]=[t("h1",null,"Статистика в разработке",-1)])),_:1})]),_:1})}const fl=y(F,[["render",H]]),I={setup(){const r=h(),l=C();return{core:r,klient:l}}},R={class:""};function E(r,l,w,n,d,b){return i(),v(M,{modelValue:n.klient.showKommunikaciiModal,"onUpdate:modelValue":l[4]||(l[4]=a=>n.klient.showKommunikaciiModal=a),scrollable:"",width:"1000"},{default:o(()=>[e(g,{color:"",class:"br-15"},{default:o(()=>[e(N,{color:"primary"},{default:o(()=>[e(A,null,{default:o(()=>[c(s(n.klient.kommunikaciiModalTitle),1)]),_:1}),e(_,{icon:"mdi-close",onClick:l[0]||(l[0]=a=>n.klient.showKommunikaciiModal=!1)})]),_:1}),e(S,{class:"py-5"},{default:o(()=>[e(D,null,{default:o(()=>[e(V,{cols:"12"},{default:o(()=>[t("div",R,[l[5]||(l[5]=t("label",null,[t("b",null,"СМС")],-1)),n.klient.dvKommunikacii.id?(i(),v(T,{key:1,rows:"3",class:"pt-0 br-20 mb-3 bez-label",readonly:"",variant:"underlined",modelValue:n.klient.dvKommunikacii.message,"onUpdate:modelValue":l[2]||(l[2]=a=>n.klient.dvKommunikacii.message=a)},null,8,["modelValue"])):(i(),v(T,{key:0,rows:"3",clearable:!0,class:"pt-0 br-20 mb-3 bez-label",variant:"underlined",modelValue:n.klient.dvData.message,"onUpdate:modelValue":l[1]||(l[1]=a=>n.klient.dvData.message=a)},null,8,["modelValue"]))])]),_:1})]),_:1})]),_:1}),n.klient.dvKommunikacii.id?B("",!0):(i(),v(N,{key:0,color:"",class:"pb-0 mb-0"},{default:o(()=>[e(_,{elevation:"3",color:"primary",variant:"flat",onClick:l[3]||(l[3]=a=>n.klient.saveKommunikacii()),class:"ms-auto br-20"},{default:o(()=>l[6]||(l[6]=[c(" Сохранить ")])),_:1})]),_:1}))]),_:1})]),_:1},8,["modelValue"])}const q=y(I,[["render",E]]),G={components:{KlientKommunikaciiOknoRedaktirovania:q},setup(){const r=h(),l=C();return{core:r,klient:l}},methods:{open(r){this.klient.openKommunikaciiModal(r)}}},J={class:"pt-0 w-100"},P={class:"d-flex"},Q={class:"row"},W=["onClick"],X={class:"text-center"},Y={class:"text-center"},Z={class:"text-center"},ll={class:"text-center"},tl={key:1,class:"w-100"};function ol(r,l,w,n,d,b){const a=L("klient-kommunikacii-okno-redaktirovania");return i(),m(K,null,[t("div",J,[t("div",P,[l[2]||(l[2]=t("h2",{class:"mb-3 me-auto"},"История взаимодействия",-1)),e(_,{elevation:"3",size:"small",variant:"tonal",color:"primary",class:"br-20 px-5",onClick:l[0]||(l[0]=p=>n.klient.openKommunikaciiModal())},{default:o(()=>[e(U,{icon:"mdi-plus"}),l[1]||(l[1]=t("b",null,"Добавить СМС",-1))]),_:1})]),t("div",Q,[e(V,{cols:"12",class:"pt-0 px-0 w-100"},{default:o(()=>[e(g,{class:"px-7 py-7 br-20",elevation:"5"},{default:o(()=>{var p,f;return[t("div",null,[((f=(p=n.klient.dvData)==null?void 0:p.kommunikacii)==null?void 0:f.length)>0?(i(),v(z,{key:0,hover:"",class:"text-body-2 cursor-pointer"},{default:o(()=>{var u;return[l[3]||(l[3]=t("thead",{class:""},[t("tr",null,[t("th",{class:"text-center bg-green-lighten-5 align-center justify-center"},"Канал связи"),t("th",{class:"text-center bg-green-lighten-5 align-center justify-center"},"Кто взаимодействовал"),t("th",{class:"text-center bg-green-lighten-5 align-center justify-center"},"Дата"),t("th",{class:"text-center bg-green-lighten-5 align-center justify-center"},"Сообщение/Разговор")])],-1)),t("tbody",null,[(i(!0),m(K,null,$((u=n.klient.dvData)==null?void 0:u.kommunikacii,k=>(i(),m("tr",{onClick:ul=>n.klient.openKommunikaciiModal(k.id),key:k.id},[t("td",X,s(k.kanalSvyazi),1),t("td",Y,s(k.ktoVzaimodeystvoval),1),t("td",Z,s(k.dateLabel),1),t("td",ll,s(k.message),1)],8,W))),128))])]}),_:1})):(i(),m("div",tl,[e(j,{icon:"$info",color:"primary",variant:"tonal",elevation:4,class:"mb-3 w-100 small py-3",text:"Изменений пока нет"})]))])]}),_:1})]),_:1})])]),e(a)],64)}const bl=y(G,[["render",ol]]),el={setup(){const r=h(),l=C();return{core:r,klient:l}},data(){return{dialogNow:{},dialogShow:!1}},methods:{open(r){this.dialogNow=r,this.dialogShow=!0}}},nl={class:"pt-0 w-100"},al={class:"row"},sl=["onClick"],il={key:1,class:"w-100"},rl=["innerHTML"];function dl(r,l,w,n,d,b){return i(),m("div",nl,[l[9]||(l[9]=t("h2",{class:"mb-3"},"История изменений",-1)),t("div",al,[e(V,{cols:"12",class:"pt-0 px-0 w-100"},{default:o(()=>[e(g,{class:"px-7 py-7 br-20",elevation:"5"},{default:o(()=>{var a,p;return[t("div",null,[((p=(a=n.klient.dvData)==null?void 0:a.history)==null?void 0:p.length)>0?(i(),v(z,{key:0,hover:"",class:"text-body-2 cursor-pointer"},{default:o(()=>{var f;return[l[2]||(l[2]=t("thead",{class:""},[t("tr",null,[t("th",null,"Вкладка"),t("th",null,"Тип операции"),t("th",null,"Автор"),t("th",null,"Дата"),t("th",null,"Примечание")])],-1)),t("tbody",null,[(i(!0),m(K,null,$((f=n.klient.dvData)==null?void 0:f.history,u=>(i(),m("tr",{onClick:k=>b.open(u),key:u.id},[t("td",{class:x(u.color)},s(u.tab),3),t("td",{class:x(u.color)},s(u.typeOperation),3),t("td",null,s(u.user),1),t("td",null,s(u.date),1),t("td",null,s(u.note),1)],8,sl))),128))])]}),_:1})):(i(),m("div",il,[e(j,{icon:"$info",color:"primary",variant:"tonal",elevation:4,class:"mb-3 w-100 small py-3",text:"Изменений пока нет"})]))])]}),_:1})]),_:1})]),e(M,{modelValue:d.dialogShow,"onUpdate:modelValue":l[1]||(l[1]=a=>d.dialogShow=a),width:"auto"},{default:o(()=>[e(g,null,{default:o(()=>[e(S,null,{default:o(()=>[t("div",null,[t("div",null,[l[3]||(l[3]=t("b",null,"Вкладка: ",-1)),c(" "+s(d.dialogNow.tab),1)]),t("div",null,[l[4]||(l[4]=t("b",null,"Операция: ",-1)),c(" "+s(d.dialogNow.typeOperation),1)]),t("div",null,[l[5]||(l[5]=t("b",null,"Дата: ",-1)),c(" "+s(d.dialogNow.date),1)]),t("div",null,[l[6]||(l[6]=t("b",null,"Автор: ",-1)),c(" "+s(d.dialogNow.user),1)]),t("div",{class:x({"mb-5":d.dialogNow.changeValues})},[l[7]||(l[7]=t("b",null,"Примечание: ",-1)),c(" "+s(d.dialogNow.note),1)],2)]),t("div",{class:"pre",innerHTML:d.dialogNow.changeValues},null,8,rl)]),_:1}),e(O,null,{default:o(()=>[e(_,{color:"primary",class:"br-20",block:"",onClick:l[0]||(l[0]=a=>d.dialogShow=!1)},{default:o(()=>l[8]||(l[8]=[c("Закрыть")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const gl=y(el,[["render",dl]]);export{gl as K,bl as a,fl as b};
