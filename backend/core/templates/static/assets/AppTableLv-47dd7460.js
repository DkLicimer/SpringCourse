import{_ as V,a as p,u as A,A as S,o as e,c as o,b as r,h as i,w as a,F as y,g as _,d,k as u,i as x,t as h,j as m,l as c,z as g,B,D,m as z,E as N,G as f}from"./index-51defc55.js";import{V as L,a as F}from"./VTable-0c38b32b.js";import{V as T}from"./VTooltip-9afbc9f4.js";import{a as b}from"./VSelect-0c4809ec.js";const U={setup(){const k=p(),n=A();return{core:k,user:n}},methods:{open(k){this.openUrl?S.push({name:"KlientDvPage",params:{id:k}}):this.store.openBaseModal(k)}},props:["store","openUrl","btnCopy","isBluda"]},P=["onClick"],j={class:"overflow-x-auto"},E=["onClick"],I={key:0},K={class:"me-3"},M={key:1,class:"w-100"},O={key:2,class:"w-100"},G={key:3,class:"text-decoration-none text-black mx-auto px-0 py-2 d-flex"},R=["src"],q={key:1,class:"w-100 py-3"},J={key:4,class:"w-100"},Q={key:0},W={key:1,class:"w-100 py-3"},X={class:""};function Y(k,n,l,v,Z,C){return e(),o("div",null,[r("div",null,[l.store.lvData.length?(e(),i(L,{key:0,hover:"",class:"text-body-2 cursor-pointer w-100 text-center overflow-x-auto"},{default:a(()=>[r("thead",null,[r("tr",null,[(e(!0),o(y,null,_(l.store.tableHeader,t=>(e(),o("th",{class:"text-center bg-green-lighten-5 align-center justify-center",onClick:s=>l.store.updateSort(t.orederName),key:t.name},[u(h(t.label)+" ",1),l.store.searchAndSort.sortName===t.orederName?(e(),o(y,{key:0},[l.store.searchAndSort.sortOrder==="up"?(e(),i(m,{key:0,icon:"mdi-sort-ascending"})):c("",!0),l.store.searchAndSort.sortOrder==="down"?(e(),i(m,{key:1,icon:"mdi-sort-descending"})):c("",!0)],64)):c("",!0)],8,P))),128)),n[1]||(n[1]=r("th",{class:"text-center bg-green-lighten-5"},null,-1))])]),r("tbody",j,[(e(!0),o(y,null,_(l.store.lvData,t=>(e(),o("tr",{key:t.id},[(e(!0),o(y,null,_(l.store.tableHeader,(s,w)=>(e(),o("td",{class:"text-center",onClick:$=>C.open(t.id),key:s.name},[r("div",{style:g(`width:${s.width}`),class:"text-decoration-none d-flex align-center py-2 h-100 mx-auto"},[w===0&&t.isArchive?(e(),o("div",I,[r("div",K,[d(m,{icon:"mdi-archive",color:"red",size:"small"}),d(T,{activator:"parent",location:"top"},{default:a(()=>n[2]||(n[2]=[u("В архиве ")])),_:1})])])):c("",!0),s.type==="num"?(e(),o("div",M,[t[s.name]||t[s.name]===0?(e(),o(y,{key:0},[u(h(t[s.name].toLocaleString("ru-RU",{maximumFractionDigits:2})),1)],64)):(e(),o(y,{key:1},[u(" - ")],64))])):s.type==="bool"?(e(),o("div",O,[t[s.name]?(e(),i(b,{key:0,size:"small",color:"primary",class:"px-5"},{default:a(()=>n[3]||(n[3]=[u("Да")])),_:1})):(e(),i(b,{key:1,color:"secondary",size:"small",class:"px-5"},{default:a(()=>n[4]||(n[4]=[u("Нет")])),_:1}))])):s.type==="img"?(e(),o("div",G,[t[s.name]?(e(),o("img",{key:0,style:g(`height:${s.width}`),class:"br-20 w-100",src:t[s.name]},null,12,R)):(e(),o("div",q,"Нет"))])):(e(),o("div",J,[t[s.name]?(e(),o("div",Q,h(t[s.name]),1)):(e(),o("div",W,"Нет"))]))],4)],8,E))),128)),r("td",null,[!v.user.userData.isPovar&&!v.user.userData.isKurer&&!(l.isBluda&&v.user.userData.isFranchisee)?(e(),i(B,{key:0,location:"start"},{activator:a(({props:s})=>[r("div",X,[d(x,D({elevation:"3",variant:"text",size:"small",class:"br-20",ref_for:!0},s),{default:a(()=>[d(m,{icon:"mdi-menu"})]),_:2},1040)])]),default:a(()=>[d(z,{"min-width":"300",class:""},{default:a(()=>[d(N,null,{default:a(()=>[t.isArchive?(e(),i(f,{key:0,onClick:s=>l.store.delete(t.id),title:"Убрать из архива"},null,8,["onClick"])):c("",!0),t.isArchive?c("",!0):(e(),i(f,{key:1,onClick:s=>l.store.delete(t.id),title:"Поместить в архив"},null,8,["onClick"])),l.btnCopy?(e(),i(f,{key:2,onClick:s=>l.store.copy(t.id),title:"Копировать"},null,8,["onClick"])):c("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):c("",!0)])]))),128))])]),_:1})):(e(),i(F,{key:1,icon:"$info",class:"br-20",color:"secondary",variant:"tonal",elevation:4},{default:a(()=>[n[6]||(n[6]=r("b",null,"Ничего не найдено",-1)),d(x,{size:"small",variant:"tonal",color:"primary",class:"br-20 ms-3",onClick:n[0]||(n[0]=t=>l.store.reseatSearch())},{default:a(()=>n[5]||(n[5]=[u("Сбросить фильтры ")])),_:1})]),_:1}))])])}const oe=V(U,[["render",Y]]);export{oe as A};
