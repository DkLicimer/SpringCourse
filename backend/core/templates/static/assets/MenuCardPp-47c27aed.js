import{_ as V,a as w,u as B,o as l,h as k,w as o,b as s,v as g,c as i,d as a,j as m,f as z,t as u,e as C,k as d,i as b,F as h,g as M,l as _,p as N,m as P}from"./index-51defc55.js";import{d as F,b as I,u as D}from"./VToolbar-752396e1.js";import{u as S}from"./store-cd25396c.js";import{N as Z}from"./NaborOknoRedaktirovania-a0683796.js";import{a as v,V as L}from"./VSelect-0c4809ec.js";const T={components:{NaborOknoRedaktirovania:Z},setup(){const x=w(),e=F(),t=S(),n=I(),f=D(),y=B();return{core:x,menu:e,zakaz:t,nabor:n,bluda:f,user:y}},methods:{openNabor(x){this.nabor.readOnly=!1,this.bluda.reseatSearch(),this.nabor.reseatSearch(),this.nabor.openBaseModal(x)}},data(){return{isColapse:!1}},props:["item","date","rezemPokupki","dateLabel"]},O={class:"h-100",style:{"min-height":"200px"}},R={key:1,class:"h1 text-center px-2 py-4 br-100 h-100 bg-white"},U={class:"py-2 mb-0 bg-grey-lighten-5 px-3"},j={class:"text-body-"},E={class:"d-flex mb-1 flex-wrap"},q={class:"flex-1-1-100 w-100 mb-1"},A={class:""},G={key:0},H={key:1},J={key:0,class:"mt-3"},K={key:0},Q={class:"border-b py-2"},W=["onClick"],X={class:"me-auto align-self-center"},Y={class:"mb-2 flex-1-1-100 flex-sm-1-1-100 me-sm-2 mt-3"},$={class:"mt-7 mb-2 flex-1-1-100 flex-sm-1-0-100 me-sm-2"},ee={class:"text-center"},te={class:"border-b d-inline-block text-h4 font-weight-bold mx-auto"},ae={class:"px-3 mt-auto d-flex py-3 mb-0 bg-grey-lighten-5 px-3"},se={key:0,class:"me-3 flex-1-1"},oe={key:1,class:"flex-1-1 text-end"},le={key:1,class:"d-flex w-100 app-poisk align-center"};function ne(x,e,t,n,f,y){return l(),k(P,{elevation:"5",class:"br-20 h-100 d-flex flex-column"},{default:o(()=>[s("div",O,[t.item.nabor.photo?(l(),k(g,{key:0,src:t.item.nabor.photo,class:"br-top-20"},null,8,["src"])):(l(),i("div",R,[a(m,{icon:"mdi-camera",class:"h-100",style:{"font-size":"5rem"},color:"secondary",size:"large"})]))]),s("div",U,[a(C,null,{default:o(()=>[a(z,{class:"align-content-center text-center mb-2 pt-5"},{default:o(()=>[s("h3",null,u(t.dateLabel),1),s("h2",j,[s("b",null,u(t.item.nabor.nazvanie),1)])]),_:1})]),_:1})]),a(N,{class:""},{default:o(()=>{var r;return[s("div",E,[s("div",q,[a(v,{size:"default",variant:"tonal",class:"px-3 me-2 mb-2",color:"primary"},{default:o(()=>[e[8]||(e[8]=s("b",{class:"me-1"},"К",-1)),d(" "+u(t.item.nabor.kaloriinost),1)]),_:1}),a(v,{size:"default",variant:"tonal",class:"px-3 me-2 mb-2",color:"primary"},{default:o(()=>[e[9]||(e[9]=s("b",{class:"me-1"},"Б",-1)),d(" "+u(t.item.nabor.belki),1)]),_:1}),a(v,{size:"default",variant:"tonal",class:"px-3 me-2 mb-2",color:"primary"},{default:o(()=>[e[10]||(e[10]=s("b",{class:"me-1"},"Ж",-1)),d(" "+u(t.item.nabor.ziri),1)]),_:1}),a(v,{size:"default",variant:"tonal",class:"px-3 mb-2",color:"primary"},{default:o(()=>[s("span",A,[e[11]||(e[11]=s("b",{class:"me-1"},"У",-1)),d(" "+u(t.item.nabor.uglevodi),1)])]),_:1})])]),s("div",null,[a(b,{size:"default",elevation:"3",color:"primary",variant:"flat",class:"br-20 w-100",onClick:e[0]||(e[0]=c=>f.isColapse=!f.isColapse)},{default:o(()=>[f.isColapse?(l(),i("span",G,"Скрыть")):(l(),i("span",H,"Показать")),e[12]||(e[12]=d(" состав "))]),_:1})]),f.isColapse?(l(),i("div",J,[((r=t.item.nabor.sostav)==null?void 0:r.length)>0?(l(),i("div",K,[e[13]||(e[13]=s("h2",{class:"border-b pb-2 mt-5"},"Состав:",-1)),(l(!0),i(h,null,M(t.item.nabor.sostav,c=>(l(),i("div",Q,[a(C,null,{default:o(()=>[a(z,{cols:"2"},{default:o(()=>[c.bludo.photo?(l(),k(g,{key:0,onClick:p=>n.bluda.openBaseModal(c.bludo.id),class:"br-15 cursor-pointer",src:c.bludo.photo},null,8,["onClick","src"])):(l(),i("div",{key:1,onClick:p=>n.bluda.openBaseModal(c.bludo.id),class:"h1 cursor-pointer text-center px-2 py-3 br-15 bg-white"},[a(m,{icon:"mdi-camera",color:"secondary",size:"large"})],8,W))]),_:2},1024),a(z,{class:"align-self-center d-flex"},{default:o(()=>[s("div",X,[s("b",null,u(c.bludo.nazvanie),1)]),a(b,{onClick:p=>n.bluda.openBaseModal(c.bludo.id),variant:"text",color:"primary"},{default:o(()=>[a(m,{icon:"mdi-open-in-new"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),256))])):_("",!0),s("div",Y,[t.item.nabor.isPostnoeBludo?(l(),k(v,{key:0,size:"default",variant:"outlined",class:"px-5 font-weight-bold w-100",color:"primary"},{default:o(()=>e[14]||(e[14]=[d("Постное ")])),_:1})):(l(),k(v,{key:1,size:"default",variant:"outlined",color:"secondary",class:"px-5 w-100 font-weight-bold"},{default:o(()=>e[15]||(e[15]=[d("Не постное ")])),_:1}))])])):_("",!0),s("div",$,[s("div",ee,[s("h2",te,u(t.item.nabor.stoimost)+" руб.",1)])])]}),_:1}),s("div",ae,[t.rezemPokupki?(l(),i("div",le,[a(b,{color:"secondary",size:"default",class:"br-20 me-4",onClick:e[4]||(e[4]=r=>n.zakaz.decPpZakaz(t.item.nabor,t.date))},{default:o(()=>[a(m,{icon:"mdi-minus"})]),_:1}),a(L,{modelValue:n.zakaz.ppInput[`${t.date}--${t.item.nabor.id}`],"onUpdate:modelValue":e[5]||(e[5]=r=>n.zakaz.ppInput[`${t.date}--${t.item.nabor.id}`]=r),type:"number",id:`pp-input-${t.date}--${t.item.nabor.id}`,onChange:e[6]||(e[6]=r=>n.zakaz.changPpZakaz(t.item.nabor,t.date,r)),step:"1",class:"w-100 br-20 text-center input-pp",variant:"solo"},null,8,["modelValue","id"]),a(b,{color:"secondary",size:"default",class:"br-20 ms-4",onClick:e[7]||(e[7]=r=>n.zakaz.incPpZakaz(t.item.nabor,t.date))},{default:o(()=>[a(m,{icon:"mdi-plus"})]),_:1})])):(l(),i(h,{key:0},[n.user.userData.isFranchisee?_("",!0):(l(),i("div",se,[a(b,{onClick:e[1]||(e[1]=r=>n.menu.delete(t.item.id)),size:"small",variant:"tonal",color:"red",class:"br-15",elevation:"3"},{default:o(()=>[a(m,{icon:"mdi-delete"}),e[16]||(e[16]=d(" Удалить "))]),_:1})])),n.user.userData.isFranchisee?_("",!0):(l(),i("div",oe,[a(b,{onClick:e[2]||(e[2]=r=>y.openNabor(t.item.nabor.id)),size:"small",variant:"outlined",color:"primary",class:"br-15 me-3",elevation:"3"},{default:o(()=>[a(m,{icon:"mdi-pen"}),e[17]||(e[17]=d(" Набор "))]),_:1}),n.user.userData.isFranchisee?_("",!0):(l(),k(b,{key:0,onClick:e[3]||(e[3]=r=>n.menu.openBaseModal(t.date,t.item.id)),size:"small",variant:"tonal",color:"primary",class:"br-15",elevation:"3"},{default:o(()=>[a(m,{icon:"mdi-pen"}),e[18]||(e[18]=d(" Изменить "))]),_:1}))]))],64))])]),_:1})}const ce=V(T,[["render",ne],["__scopeId","data-v-4a959163"]]);export{ce as M};
